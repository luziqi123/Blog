[TOC]



# 行为面试环节 --- 暖场


## 自我介绍

2012年在惠普 , 跟着一个team开发了智慧终端 和 日程助手 . 智慧终端是一个用于动态更新广告的商场屏幕 . 日程助手是中国移动内部的一个app  , 会在日历上标记出与你相关的活动 . 也可以发起活动 . 

2015年去了OraCleen爱芽科技 , 是一家做电动牙刷的公司 . 独立开发了牙齿日记的第一版和天天爱刷牙第一版.

牙齿日记是通过蓝牙跟牙刷链接, 然后指导用户刷牙 , 并且根据你的刷牙情况统计你的口腔情况. 天天爱刷牙是一款提升儿童刷牙乐趣的app . 

## 项目经验

### 牙齿日记

他的核心功能就是可以通过蓝牙连接你的牙刷 , 然后就可以通过开启牙刷进入刷牙指导界面 , 牙菌斑分布统计 等一些功能 . 因为初期的话就我一个Android , 所以从架构的设计到后期跟**产品沟通** / 具体代码的实现都是我在负责了. 由于Android版是后上线的 , 所以刚一上线就有了一万左右的用户量 . 所以初期的话压力还是比较大的. 所以我还顺便担任了客服的职位.....

#### 遇到的最大的问题是什么?

应该就是设备的适配问题了 , 因为我们的App涉及到了蓝牙模块的调用 , 而国内的Android机系统是比较多样的 . 会出现各种稀奇古怪的问题  比如说搜到设备连不上  或者频繁断开连接. 并且你修复了B的问题A又连不上了 , 修复了A的B又会出问题 .

然后我就用工厂模式重构了这个模块 , 工厂类是根据不同的机型创建不同类型的BLEManager . 然后默认是返回BaseBleManager , 这个类里面是最常规的操作 , 并且在每一步都有LOG日志会保存到文件里面. 然后我会在链接失败的回调里计数 , 一天内超过3次链接失败就会将这个文件发到后台了. 当然是在wifi下才会去传.

当然这个解决方案现在来看我并不是很满意了 , 如果再让我做的话我会将机型所对应的BleManager抽离到后台 , 这样每次新增机型的话只要后台配置就可以了 , 这样结合**热修复**基本就完美了.

#### 从这个项目中你学到了什么

最大的收获应该就是知道了**架构的重要性**和见证了**一个项目的代码是怎么从开始到放弃的**. 第一版的代码说实话确实是很烂的 . 算是我第一个独立开发的项目了. 自以为扩展性很好 . 自以为接口只是增加了代码量.然后就....第二版的话就只能推翻重写了. 虽然也因为缺少经验出现了一些问题 , 但相对第一版已经好很多了.

#### 和团队成员发生冲突

跟产品和设计的冲突应该是最多的....通常情况下是在修改需求或者修改UI的时候 . 因为这三者的关注点是不同的 , 所以在讨论问题的时候就会出现意见上的分歧 . 通常我们只是跟他们嚷嚷....然后去改...现在我们的UI和产品都去了别的公司 . 一致认为我们是最好说话的程序员.

### 智慧终端

#### 控件拖动问题

实现思路是这样的 , 我定义了一个FrameLayout , 他负责承载和协调所有控件 .  首先是拖动 , 在你松开/在你创建一个View的时候 , 只需要注册一下就可以了 , 然后他会保存这个View , View的onTouch中 , 都会将需要移动的距离传递给联动器 , 再由联动器返回真正可以移动的距离 . 最后调用联动器的刷新方法来更新UI , 如果没有与别的控件发生冲突那就调用view的layout方法来计算自己的距离 , 如果涉及到冲突了 , 那就调用父控件的invalidate()方法. 

一个view的绘制流程是 , 父控件 measure , 然后子控件的measure, 然后父控件layout , 子控件的layout , 最后子控件的draw . 我们这里需要做的就是让父控件重新走layout方法来重新摆放所有的view . 

联动器最主要功能就是管理位置了 , 他的内部是由一个

#### 前端和后台的交互问题

前端和后台通过一个Socke链接在一起 , 每隔一段时间发送一次心跳包 , 同时也会同步一次控件数据库 , 对于前端来说 , 每一类控件都有固定的内容请求方法 , 在发现后台内容发生变化之后重新拉取内容, 后台也是如此 , 在发现前端的控件数据库发生变化后更新后台的管理界面. 前端的控件内容在拉取到之后就存在本地了 .

#### 用的什么网络框架 / 图片加载框架 ?



## 为什么跳槽?

之前从OraCleen出来是去了一家做充电桩的公司 , 也是做跟硬件相关的东西 , 然后我突然发现自己已经在硬件这条路上越走越远了 , 就果断裸辞了 . 

## 对下一份工作有什么期待?

希望能做一个有趣的产品 , 这是最重要的 . 就是要有想法 . 

其次要有一个爱学习的开发团队 . 

# 技术面试环节

- 扎实的基础知识
- 高质量的代码
- 清晰的思路
- 优化效率的能力
- 沟通能力和学习能力





# 提问环节

- 现在这个项目的进度怎么样?
- 团队的一个人员配置是怎样的?
- 我过来的话主要负责哪方面的工作?
- 我需要对哪一块儿的知识着重研究?

